{"version":3,"sources":["../../src/elements/builtin_image.js"],"names":["base","id","renderer","group","title","jsonSchema","description","type","required","properties","image","$subtype","$filter","typingIndicators","uiSchema","computePreviewText","formData","fileName","path","basename","includes","split","join","computeMetadata"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AAEA;;IAAYA,I;;;;;;kBAEG;AACbC,MAAI,eADS;AAEbC,YAAU,gBAFG;;AAIbC,SAAO,mBAJM;AAKbC,SAAO,OALM;;AAObC,cAAY;AACVC,iBAAa,mDADH;AAEVC,UAAM,QAFI;AAGVC,cAAU,CAAC,OAAD,CAHA;AAIVC;AACEC,aAAO;AACLH,cAAM,QADD;AAELI,kBAAU,OAFL;AAGLC,iBAAS,oDAHJ;AAILR,eAAO;AAJF,OADT;AAOEA,aAAO;AACLG,cAAM,QADD;AAELD,qBAAa,4CAFR;AAGLF,eAAO;AAHF;AAPT,OAYKJ,KAAKa,gBAZV;AAJU,GAPC;;AA2BbC,YAAU,EA3BG;;AA6BbC,sBAAoBC,YAAY;AAC9B,QAAIC,WAAWC,eAAKC,QAAL,CAAcH,SAASN,KAAvB,CAAf;;AAEA,QAAIO,SAASG,QAAT,CAAkB,GAAlB,CAAJ,EAA4B;AAC1BH,iBAAW,oBAAKA,SAASI,KAAT,CAAe,GAAf,CAAL,EAA0BC,IAA1B,CAA+B,GAA/B,CAAX;AACD;;AAED,UAAMlB,QAAQY,SAASZ,KAAT,GAAiB,QAAQY,SAASZ,KAAlC,GAA0C,EAAxD;AACA,WAAQ,UAASa,QAAS,IAAGb,KAAM,EAAnC;AACD,GAtCY;;AAwCbmB,mBAAiB;AAxCJ,C","file":"builtin_image.js","sourcesContent":["import path from 'path'\nimport tail from 'lodash/tail'\n\nimport * as base from './builtin_base_properties'\n\nexport default {\n  id: 'builtin_image',\n  renderer: '#builtin_image',\n\n  group: 'Built-in Messages',\n  title: 'Image',\n\n  jsonSchema: {\n    description: 'A message showing an image with an optional title',\n    type: 'object',\n    required: ['image'],\n    properties: {\n      image: {\n        type: 'string',\n        $subtype: 'media',\n        $filter: '.jpg, .png, .jpeg, .gif, .bmp, .tif, .tiff|image/*',\n        title: 'Image'\n      },\n      title: {\n        type: 'string',\n        description: 'Some platforms require to name the images.',\n        title: 'Title (optional)'\n      },\n      ...base.typingIndicators\n    }\n  },\n\n  uiSchema: {},\n\n  computePreviewText: formData => {\n    let fileName = path.basename(formData.image)\n\n    if (fileName.includes('-')) {\n      fileName = tail(fileName.split('-')).join('-')\n    }\n\n    const title = formData.title ? ' | ' + formData.title : ''\n    return `Image (${fileName})${title}`\n  },\n\n  computeMetadata: null\n}\n"]}