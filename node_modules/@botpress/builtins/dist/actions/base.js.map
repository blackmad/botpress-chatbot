{"version":3,"sources":["../../src/actions/base.js"],"names":["handler","schema","state","event","options","Joi","describe","attempt","bp","Annotate","category","title","description","__category","any","optional","strip","__title","__description"],"mappings":";;;;;;;AAAA;;;;;;kBAEe,CAACA,OAAD,EAAUC,MAAV,KAAqB,CAACC,KAAD,EAAQC,KAAR,EAAeC,OAAf,KAA2B;AAC7D,MAAIA,WAAW,qBAAf,EAAsC;AACpC,QAAIH,MAAJ,EAAY;AACV,aAAOI,cAAIC,QAAJ,CAAaL,MAAb,CAAP;AACD,KAFD,MAEO;AACL,aAAO,EAAP;AACD;AACF;;AAED,MAAIA,MAAJ,EAAY;AACVG,cAAUC,cAAIE,OAAJ,CAAYH,OAAZ,EAAqBH,MAArB,EAA6B,oCAA7B,CAAV;AACD;;AAED,SAAOD,QAAQG,MAAMK,EAAd,EAAkBN,KAAlB,EAAyBC,KAAzB,EAAgCC,WAAW,EAA3C,CAAP;AACD,C;;AAEM,MAAMK,8BAAW,CAACC,WAAW,MAAZ,EAAoBC,QAAQ,EAA5B,EAAgCC,cAAc,EAA9C,KAAqD;AAC3E,SAAO;AACLC,gBAAYR,cAAIS,GAAJ,GACTC,QADS,GAETC,KAFS,GAGTJ,WAHS,CAGGF,QAHH,CADP;AAKLO,aAASZ,cAAIS,GAAJ,GACNC,QADM,GAENC,KAFM,GAGNJ,WAHM,CAGMD,KAHN,CALJ;AASLO,mBAAeb,cAAIS,GAAJ,GACZC,QADY,GAEZC,KAFY,GAGZJ,WAHY,CAGAA,WAHA;AATV,GAAP;AAcD,CAfM","file":"base.js","sourcesContent":["import Joi from 'joi'\n\nexport default (handler, schema) => (state, event, options) => {\n  if (options == 'bp::describe-action') {\n    if (schema) {\n      return Joi.describe(schema)\n    } else {\n      return {}\n    }\n  }\n\n  if (schema) {\n    options = Joi.attempt(options, schema, 'Invalid options provided to action')\n  }\n\n  return handler(event.bp, state, event, options || {})\n}\n\nexport const Annotate = (category = 'None', title = '', description = '') => {\n  return {\n    __category: Joi.any()\n      .optional()\n      .strip()\n      .description(category),\n    __title: Joi.any()\n      .optional()\n      .strip()\n      .description(title),\n    __description: Joi.any()\n      .optional()\n      .strip()\n      .description(description)\n  }\n}\n"]}